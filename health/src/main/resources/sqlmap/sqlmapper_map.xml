<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dw.health.mapper.MapMapper">

<select id="selectAllAddrList" resultType="map">
		SELECT
			place_no AS place_no,
			gu_code AS gu_code,
			event_code AS event_code,
			fac_name AS fac_name,
			addr_road AS addr_road,
			digit AS digit
		FROM health_addr
	</select>
	
	<select id="selectAddrOne" resultType="MapVO">
		SELECT 
			place_no AS place_no,
			gu_code AS gu_code,
			event_code AS event_code,
			fac_name AS fac_name,
			addr_road AS addr_road,
			digit AS digit
		FROM 
			health_addr
		WHERE 
			place_no = #{place_no}
			
	</select>
	
	<update id="updateAddrOne">
	UPDATE health_addr
	SET 
		gu_code = #{gu_code},
		event_code = #{event_code},
		fac_name = #{fac_name},
		addr_road = #{addr_road},
		digit = #{digit}
	WHERE
		place_no = #{place_no}
	</update>
	
	<insert id="insertAddr">
	INSERT INTO health_addr
	(
	gu_code,
	event_code,
	fac_name,
	addr_road,
	digit
	)VALUE
	(
	#{gu_code},
	#{event_code},
	#{fac_name},
	#{addr_road},
	#{digit}
	)
	</insert>
	
		<!-- 회원 삭제 -->
	<delete id="deleteAddr">
		DELETE FROM health_addr
		WHERE place_no = #{place_no}
	</delete>

<!-- 구별 데이터 리스트 조회 -->
	<select id="selectYuseong" resultType="map">
		SELECT * 
		from health_addr
		WHERE gu_code = "유성구"
	</select>
	
	<select id="selectDaedeok" resultType="map">
		SELECT * 
		from health_addr
		WHERE gu_code = "대덕구"
	</select>
	
	<select id="selectDong" resultType="map">
		SELECT *
		from health_addr
		WHERE gu_code = "동구"
	</select>

	<select id="selectJung" resultType="map">
		SELECT * 
		from health_addr
		WHERE gu_code = "중구"
	</select>
	
	<select id="selectSeo" resultType="map">
		SELECT * 
		from health_addr
		WHERE gu_code = "서구"
	</select>
	
	
	<!-- 종목 카테고리별 조회 -->
	<select id="selectEventCode" resultType="map">
		SELECT * 
		from health_addr
		WHERE event_code = #{eventCode}
	</select>
	
	<select id="selectSearchBoardList" resultType="map">
		SELECT
			place_no AS place_no,
			gu_code AS gu_code,
			event_code AS event_code,
			fac_name AS fac_name,
			addr_road AS addr_road,
			digit AS digit
		FROM health_addr
		WHERE fac_name LIKE CONCAT('%',#{fac_name},'%')
	</select>
	
	<!-- 대전시 공공체육시설 조회 -->
	<select id="selectAllFacility" resultType="map">
		SELECT COUNT(*) as count
		FROM dw.health_addr	
	</select>
</mapper>